<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <meta charset="UTF-8" />
  <title>Add Omi in One Minute</title>
</head>

<body>
  <script src="https://tencent.github.io/omi/packages/omi/dist/omi.js"></script>
  <script src="../../src/chart/index.js"></script>
  <script src="../../src/button/index.js"></script>
  <div>
    <m-bar id="myBar" width="600" height="300" data="{
      labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
      datasets: [{
        label: '# of Votes',
        data: [12, 19, 3, 5, 2, 3],
        backgroundColor: [
          'rgba(255, 99, 132, 0.2)',
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 206, 86, 0.2)',
          'rgba(75, 192, 192, 0.2)',
          'rgba(153, 102, 255, 0.2)',
          'rgba(255, 159, 64, 0.2)'
        ],
        borderColor: [
          'rgba(255,99,132,1)',
          'rgba(54, 162, 235, 1)',
          'rgba(255, 206, 86, 1)',
          'rgba(75, 192, 192, 1)',
          'rgba(153, 102, 255, 1)',
          'rgba(255, 159, 64, 1)'
        ],
        borderWidth: 1
      }]
    }"
      options="{
      legend: {
        display: false
      },
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true
          }
        }]
      }
    }"></m-bar>

    <m-button raised id="myBtn">Random Data</m-button>
  </div>
  <script>
    var btn = document.querySelector('#myBtn')
    var chart = document.querySelector('#myBar')

    btn.addEventListener('click', function () {

      chart.props.data.datasets.forEach(dataset => {
        dataset.data.forEach((item, index) => {
          dataset.data[index] = Math.random() * 100
        })
      })

      chart.update()
    })
  </script>
  <a href="https://github.com/Tencent/omi" target="_blank" style="position: fixed; right: 0; top: 0; z-index: 3;">
    <img src="//alloyteam.github.io/github.png" alt="">
  </a>
</body>

</html>