/*!
 *  omi-sprite v0.0.0 By akira-cn 
 *  Github: https://github.com/AlloyTeam/omi
 *  MIT Licensed.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("spritejs"),require("omi")):"function"==typeof define&&define.amd?define(["spritejs","omi"],t):"object"==typeof exports?exports.OmiSpritejs=t(require("spritejs"),require("omi")):e.OmiSpritejs=t(e.spritejs,e.omi)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}t.b=r,t.a=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e||"number"==typeof e}n.d(t,"a",function(){return o}),t.b=r;var o=Array.isArray},function(e,t,n){"use strict";function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var o=0;o<t.length;++o){var i=t[o].data;void 0!==i&&r(i,t[o].children,t[o].sel)}}function o(e,t,n){var o,u,f,l={};if(void 0!==n?(l=t,a.a(n)?o=n:a.b(n)?u=n:n&&n.sel&&(o=[n])):void 0!==t&&(a.a(t)?o=t:a.b(t)?u=t:t&&t.sel?o=[t]:l=t),void 0!==o)for(f=0;f<o.length;++f)a.b(o[f])&&(o[f]=Object(i.b)(void 0,void 0,void 0,o[f],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||r(l,o,e),Object(i.b)(e,l,o,u,void 0)}t.a=o;var i=n(1),a=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=e.events,r=t.data.attrs;e.elm&&n&&(n.forEach(function(t){var n=v(t,2),r=n[0],o=n[1];e.elm.removeEventListener(r,o)}),e.events=[]),t.elm&&r&&Object.entries(r).forEach(function(e){var n=v(e,2),o=n[0],i=n[1];if(0===o.indexOf("on")&&"function"==typeof i){var a=o.slice(2).toLowerCase();t.elm.addEventListener(a,i),t.events=t.events||[],t.events.push([a,i]),delete r[o]}})}function f(e,t){return u(e,t),_(e,t)}function l(e,t){return u(e,t),N(e,t)}function c(e){var t=e.nodeName,n=e.key,r=e.attributes,o=e.children,i=t;r&&r.id&&(i=i+"#"+r.id);var a={attrs:r};return n&&(a.key=n),(0,y.default)(i,a,o.map(function(e){return c(e)}))}function s(e,t){t.forEach(function(t){t.attributes.id||(t.attributes.id="layer_"+Math.random().toString(36).slice(2));var n=e.layer(t.attributes.id),r=n.vnode_||n;n.vnode_=c(t),k(r,n.vnode_)})}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=n(5),h=n(0),m=n(6),y=r(m),b=n(9),g=r(b),x=n(10),w=r(x),O=n(11),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(O),C=n(12),_=g.default.create,N=g.default.update,k=C.init([{create:f,update:l},w.default],j);(0,p.define)("omi-sprite",function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"install",value:function(){}},{key:"installed",value:function(){this.shadowRoot&&this.shadowRoot.styleSheets&&h.stylesheet.fromDocumentCSS(this.shadowRoot.styleSheets);for(var e=this;e;){var t=e.styleSheets;t&&h.stylesheet.fromDocumentCSS(t),e=e.parentNode}this.scene=new h.Scene(this.container,this.props),s(this.scene,this.props.children)}},{key:"afterUpdate",value:function(){s(this.scene,this.props.children)}},{key:"render",value:function(e){var t=this;return Omi.h("div",{ref:function(e){t.container=e},viewport:e.viewport,resolution:e.resolution})}}]),t}(p.WeElement))},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var o=0;o<t.length;++o){var i=t[o].data;void 0!==i&&r(i,t[o].children,t[o].sel)}}function o(e,t,n){var o,u,f,l={};if(void 0!==n?(l=t,a.array(n)?o=n:a.primitive(n)?u=n:n&&n.sel&&(o=[n])):void 0!==t&&(a.array(t)?o=t:a.primitive(t)?u=t:t&&t.sel?o=[t]:l=t),void 0!==o)for(f=0;f<o.length;++f)a.primitive(o[f])&&(o[f]=i.vnode(void 0,void 0,void 0,o[f],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||r(l,o,e),i.vnode(e,l,o,u,void 0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(8);t.h=o,t.default=o},function(e,t,n){"use strict";function r(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}Object.defineProperty(t,"__esModule",{value:!0}),t.vnode=r,t.default=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e||"number"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.array=Array.isArray,t.primitive=r},function(e,t,n){"use strict";function r(e,t){var n,r=t.elm,f=e.data.attrs,l=t.data.attrs;if((f||l)&&f!==l){f=f||{},l=l||{};for(n in l){var c=l[n];f[n]!==c&&(!0===c?r.setAttribute(n,""):!1===c?r.removeAttribute(n):n.charCodeAt(0)!==u?r.setAttribute(n,c):n.charCodeAt(3)===a?r.setAttributeNS(i,n,c):n.charCodeAt(5)===a?r.setAttributeNS(o,n,c):r.setAttribute(n,c))}for(n in f)n in l||r.removeAttribute(n)}}Object.defineProperty(t,"__esModule",{value:!0});var o="http://www.w3.org/1999/xlink",i="http://www.w3.org/XML/1998/namespace",a=58,u=120;t.attributesModule={create:r,update:r},t.default=t.attributesModule},function(e,t,n){"use strict";function r(e,t){var n,r,o=t.elm,i=e.data.props,a=t.data.props;if((i||a)&&i!==a){i=i||{},a=a||{};for(n in i)a[n]||delete o[n];for(n in a)r=a[n],i[n]===r||"value"===n&&o[n]===r||(o[n]=r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.propsModule={create:r,update:r},t.default=t.propsModule},function(e,t,n){"use strict";function r(e){return(0,b.createNode)(e)}function o(e,t){return(0,b.createNode)(t)}function i(e){return e}function a(e){}function u(e,t,n){e&&e.insertBefore(t,n)}function f(e,t){e.removeChild(t)}function l(e,t){"string"==typeof t?e.text=t:e.appendChild(t)}function c(e){return e.parent}function s(e){if(e.parent){var t=e.parent.children.indexOf(e);return e.parent[t+1]}}function d(e){return e.tagName}function v(e,t){e.text=t}function p(e){return e.text}function h(e){return e instanceof b.BaseSprite}function m(e){return"string"==typeof e}function y(e){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=r,t.createElementNS=o,t.createTextNode=i,t.createComment=a,t.insertBefore=u,t.removeChild=f,t.appendChild=l,t.parentNode=c,t.nextSibling=s,t.tagName=d,t.setTextContent=v,t.getTextContent=p,t.isElement=h,t.isText=m,t.isComment=y;var b=n(0)},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return void 0!==e}function i(e,t){return e.key===t.key&&e.sel===t.sel}function a(e){return void 0!==e.sel}function u(e,t,n){var r,o,i,a={};for(r=t;r<=n;++r)null!=(i=e[r])&&void 0!==(o=i.key)&&(a[o]=r);return a}function f(e,t){function n(e){var t=e.id?"#"+e.id:"",n=e.className?"."+e.className.split(" ").join("."):"";return Object(l.a)(j.tagName(e).toLowerCase()+t+n,{},[],void 0,e)}function f(e,t){return function(){if(0==--t){var n=j.parentNode(e);j.removeChild(n,e)}}}function d(e,t){var n,i=e.data;void 0!==i&&o(n=i.hook)&&o(n=n.init)&&(n(e),i=e.data);var a=e.children,u=e.sel;if("!"===u)r(e.text)&&(e.text=""),e.elm=j.createComment(e.text);else if(void 0!==u){var f=u.indexOf("#"),l=u.indexOf(".",f),s=f>0?f:u.length,v=l>0?l:u.length,h=-1!==f||-1!==l?u.slice(0,Math.min(s,v)):u,m=e.elm=o(i)&&o(n=i.ns)?j.createElementNS(n,h):j.createElement(h);for(s<v&&m.setAttribute("id",u.slice(s+1,v)),l>0&&m.setAttribute("class",u.slice(v+1).replace(/\./g," ")),n=0;n<O.create.length;++n)O.create[n](p,e);if(c.a(a))for(n=0;n<a.length;++n){var y=a[n];null!=y&&j.appendChild(m,d(y,t))}else c.b(e.text)&&j.appendChild(m,j.createTextNode(e.text));n=e.data.hook,o(n)&&(n.create&&n.create(p,e),n.insert&&t.push(e))}else e.elm=j.createTextNode(e.text);return e.elm}function v(e,t,n,r,o,i){for(;r<=o;++r){var a=n[r];null!=a&&j.insertBefore(e,d(a,i),t)}}function m(e){var t,n,r=e.data;if(void 0!==r){for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<O.destroy.length;++t)O.destroy[t](e);if(void 0!==e.children)for(n=0;n<e.children.length;++n)null!=(t=e.children[n])&&"string"!=typeof t&&m(t)}}function y(e,t,n,r){for(;n<=r;++n){var i=void 0,a=void 0,u=void 0,l=t[n];if(null!=l)if(o(l.sel)){for(m(l),a=O.remove.length+1,u=f(l.elm,a),i=0;i<O.remove.length;++i)O.remove[i](l,u);o(i=l.data)&&o(i=i.hook)&&o(i=i.remove)?i(l,u):u()}else j.removeChild(e,l.elm)}}function b(e,t,n,o){for(var a,f,l,c,s=0,p=0,h=t.length-1,m=t[0],b=t[h],x=n.length-1,w=n[0],O=n[x];s<=h&&p<=x;)null==m?m=t[++s]:null==b?b=t[--h]:null==w?w=n[++p]:null==O?O=n[--x]:i(m,w)?(g(m,w,o),m=t[++s],w=n[++p]):i(b,O)?(g(b,O,o),b=t[--h],O=n[--x]):i(m,O)?(g(m,O,o),j.insertBefore(e,m.elm,j.nextSibling(b.elm)),m=t[++s],O=n[--x]):i(b,w)?(g(b,w,o),j.insertBefore(e,b.elm,m.elm),b=t[--h],w=n[++p]):(void 0===a&&(a=u(t,s,h)),f=a[w.key],r(f)?(j.insertBefore(e,d(w,o),m.elm),w=n[++p]):(l=t[f],l.sel!==w.sel?j.insertBefore(e,d(w,o),m.elm):(g(l,w,o),t[f]=void 0,j.insertBefore(e,l.elm,m.elm)),w=n[++p]));(s<=h||p<=x)&&(s>h?(c=null==n[x+1]?null:n[x+1].elm,v(e,c,n,p,x,o)):y(e,t,s,h))}function g(e,t,n){var i,a;o(i=t.data)&&o(a=i.hook)&&o(i=a.prepatch)&&i(e,t);var u=t.elm=e.elm,f=e.children,l=t.children;if(e!==t){if(void 0!==t.data){for(i=0;i<O.update.length;++i)O.update[i](e,t);i=t.data.hook,o(i)&&o(i=i.update)&&i(e,t)}r(t.text)?o(f)&&o(l)?f!==l&&b(u,f,l,n):o(l)?(o(e.text)&&j.setTextContent(u,""),v(u,null,l,0,l.length-1,n)):o(f)?y(u,f,0,f.length-1):o(e.text)&&j.setTextContent(u,""):e.text!==t.text&&j.setTextContent(u,t.text),o(a)&&o(i=a.postpatch)&&i(e,t)}}var x,w,O={},j=void 0!==t?t:s.a;for(x=0;x<h.length;++x)for(O[h[x]]=[],w=0;w<e.length;++w){var C=e[w][h[x]];void 0!==C&&O[h[x]].push(C)}return function(e,t){var r,o,u,f=[];for(r=0;r<O.pre.length;++r)O.pre[r]();for(a(e)||(e=n(e)),i(e,t)?g(e,t,f):(o=e.elm,u=j.parentNode(o),d(t,f),null!==u&&(j.insertBefore(u,t.elm,j.nextSibling(o)),y(u,[e],0,0))),r=0;r<f.length;++r)f[r].data.hook.insert(f[r]);for(r=0;r<O.post.length;++r)O.post[r]();return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=f;var l=n(1),c=n(2),s=n(13),d=n(3);n.d(t,"h",function(){return d.a});var v=n(14);n.d(t,"thunk",function(){return v.a});var p=Object(l.a)("",{},[],void 0,void 0),h=["create","update","remove","destroy","pre","post"]},function(e,t,n){"use strict";function r(e){return document.createElement(e)}function o(e,t){return document.createElementNS(e,t)}function i(e){return document.createTextNode(e)}function a(e){return document.createComment(e)}function u(e,t,n){e.insertBefore(t,n)}function f(e,t){e.removeChild(t)}function l(e,t){e.appendChild(t)}function c(e){return e.parentNode}function s(e){return e.nextSibling}function d(e){return e.tagName}function v(e,t){e.textContent=t}function p(e){return e.textContent}function h(e){return 1===e.nodeType}function m(e){return 3===e.nodeType}function y(e){return 8===e.nodeType}var b={createElement:r,createElementNS:o,createTextNode:i,createComment:a,insertBefore:u,removeChild:f,appendChild:l,parentNode:c,nextSibling:s,tagName:d,setTextContent:v,getTextContent:p,isElement:h,isText:m,isComment:y};t.a=b},function(e,t,n){"use strict";function r(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function o(e){var t=e.data;r(t.fn.apply(void 0,t.args),e)}function i(e,t){var n,o=e.data,i=t.data,a=o.args,u=i.args;if(o.fn!==i.fn||a.length!==u.length)return void r(i.fn.apply(void 0,u),t);for(n=0;n<u.length;++n)if(a[n]!==u[n])return void r(i.fn.apply(void 0,u),t);r(e,t)}n.d(t,"a",function(){return u});var a=n(3),u=function(e,t,n,r){return void 0===r&&(r=n,n=t,t=void 0),Object(a.a)(e,{key:t,hook:{init:o,prepatch:i},fn:n,args:r})}}])});