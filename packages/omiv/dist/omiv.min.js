!function(){"use strict";function t(t,r,n){var i=[];s(t)&&(0===t.length&&(t.__o_={__r_:t,__p_:"#"}),e(t,t));for(var f in t)t.hasOwnProperty(f)&&(n?s(r)&&u(r,f)?(i.push(f),o(t,f,null,t)):a(r)&&f===r&&(i.push(f),o(t,f,null,t)):(i.push(f),o(t,f,null,t)));t.__c_||(t.__c_=[]),t.__c_.push({all:!n,propChanged:n||r,eventPropArr:i})}function e(t,e){j.forEach(function(i){t[i]=function(){var t=Array.prototype.slice.call(this,0),s=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(P)){for(var a in this)this.hasOwnProperty(a)&&!n(this[a])&&o(this,a,this.__o_.__p_,e);r("Array-"+i,this,t,this,this.__o_.__p_,e)}return s},t["pure"+i.substring(0,1).toUpperCase()+i.substring(1)]=function(){return Array.prototype[i].apply(this,Array.prototype.slice.call(arguments))}})}function o(t,i,a,u){if("__o_"!==i&&!n(t[i])){t.__o_||(t.__o_={__r_:u}),t.__o_.__p_=void 0!==a&&null!==a?a:"#";var f=t.__o_[i]=t[i];if(Object.defineProperty(t,i,{get:function(){return this.__o_[i]},set:function(e){var o=this.__o_[i];this.__o_[i]=e,r(i,e,o,this,t.__o_.__p_,u)},configurable:!0,enumerable:!0}),"object"==typeof f){s(f)&&(e(f,u),0===f.length&&(f.__o_||(f.__o_={}),f.__o_.__p_=void 0!==a&&null!==a?a+"-"+i:"#-"+i));for(var c in f)f.hasOwnProperty(c)&&o(f,c,t.__o_.__p_+"-"+i,u)}}}function r(t,e,r,n,s,a){if(e!==r&&(!i(e)||!i(r))&&a.__c_)for(var c=f(t,s),p=0,_=a.__c_.length;p<_;p++){var l=a.__c_[p];(l.all||u(l.eventPropArr,c)||0===c.indexOf("Array-"))&&l.propChanged.call(n,t,e,r,s)}0!==t.indexOf("Array-")&&"object"==typeof e&&o(n,t,n.__o_.__p_,a)}function n(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t&&isNaN(t)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"string"==typeof t}function u(t,e){for(var o=t.length;--o>-1;)if(e===t[o])return!0;return!1}function f(t,e){return"#"===e?t:e.split("-")[1]}function c(t,e,o){var r={};return t.forEach(function(t){if("string"==typeof t)r[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?r[e]=!0:"string"==typeof e[0]?r[e[0]]=!0:e[0].forEach(function(t){return r[t]=!0})}}),e&&(e[o]=r),r}function p(t,e){for(var o in t){if(e[o])return!0;for(var r in e)if(_(o,r))return!0}return!1}function _(t,e){if(0===t.indexOf(e)){var o=t.substr(e.length,1);if("["===o||"."===o)return!0}return!1}function l(t){var e="";return t.replace("#-","").split("-").forEach(function(t,o){o?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function h(t,e){return Array(e+1).join(t)}function d(t,e){return h("0",e-(""+t).length)+t}function v(t,e){return t.filter(e)[0]}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===t||"object"!=typeof t)return t;var o=v(e,function(e){return e.original===t});if(o)return o.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(o){o.startsWith("__")||(r[o]=y(t[o],e))}),r}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.collapsed,o=void 0===e||e,r=t.logger,n=void 0===r?console:r;return function(t){var e=y(t.data);t._subscribers||(t._subscribers=[]),t._subscribers.push(function(t,r){if(void 0!==n){var i=y(r),s=new Date,a=" @ "+d(s.getHours(),2)+":"+d(s.getMinutes(),2)+":"+d(s.getSeconds(),2)+"."+d(s.getMilliseconds(),3),u="mutation "+t.type+a,f=o?n.groupCollapsed:n.group;try{f.call(n,u)}catch(t){console.log(u)}n.log("%c prev state","color: #9E9E9E; font-weight: bold",e),n.log("%c mutation","color: #03A9F4; font-weight: bold",t.type,t.value),n.log("%c next state","color: #4CAF50; font-weight: bold",i);try{n.groupEnd()}catch(t){n.log("—— log end ——")}e=i}})}}function b(t){var e=t.beforeCreate,o=t.destroyed,r=t.use,n=t.useSelf;return t.computed=t.computed||{},t.store&&O(t.store),t.beforeCreate=function(){if(this.$store=x,k){if(r){var t={};for(var o in r)c(r[o],t,o),x[o].components.push(this);this.__$updatePath_=t}if(n){var i={};for(var s in n)c(n[s],i,s),x[s].updateSelfComponents.push(this);this.__$updateSelfPath_=i}}else r&&(this.__$updatePath_=c(r),x.components.push(this)),n&&(this.__$updateSelfPath_=c(n),x.updateSelfComponents.push(this));e&&e.apply(this,arguments)},t.destroyed=function(){if(k)for(var t in x)"replaceState"!==t&&(S(this,x[t].components),S(this,x[t].updateSelfComponents));else S(this,x.updateSelfComponents),S(this,x.components);o&&o.apply(this,arguments)},t.computed.state=function(){if(k){var t={};return Object.keys(x).forEach(function(e){t[e]=x[e].data}),t}return x.data},t.computed.store=function(){return x},t}function $(t){t.$forceUpdate(),t.$children.forEach(function(t){$(t)})}function m(e,o){e.components=[],e.updateSelfComponents=[],e._subscribers=[],e.logPlugin&&(e.plugins=e.plugins?[].concat(e.plugins,[g()]):[g()]);var r=e.plugins,n=void 0===r?[]:r;n.length&&n.forEach(function(t){return t(e)}),"undefined"!=typeof window&&t(e.data,function(t,r,n,i){var s={};s[l(i+"-"+t)]=!0,e._subscribers.forEach(function(o){return o({type:i+"-"+t,value:r},e.data)}),e.components.forEach(function(t){var e=t.__$updatePath_;o?e&&e[o]&&p(s,e[o])&&$(t):e&&p(s,e)&&$(t)}),e.updateSelfComponents.forEach(function(t){var e=t.__$updateSelfPath_;o?e&&e[o]&&p(s,e[o])&&t.$forceUpdate():e&&p(s,e)&&t.$forceUpdate()})})}function S(t,e){for(var o=0,r=e.length;o<r;o++)if(e[o]===t){e.splice(o,1);break}}function E(t,e,o,r){if(w)return o=o||x,O(o),new w(Object.assign({render:function(e){return e(t)}},r,o?{store:o}:{})).$mount(e);"production"!==process.env.NODE_ENV&&console.error("[Omiv] has not been installed yet. Vue.use(Omiv) should be called first.")}function O(t){if(t)if(x=t,x.data)k=!1,m(x);else{k=!0;for(var e in x)x[e].data&&m(x[e],e)}else x=void 0}function C(t){w=t,A(w)}function A(t){function e(){var t=this,e=this.$options,o=e.use,r=e.useSelf;if(e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store),this.$store&&!this.$store.replaceState&&(this.$store.replaceState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(o){o.startsWith("_")||(t.$store.data[o]=e[o])})}),this.$store&&!x&&O(this.$store),k){if(o){var n={};for(var i in o)c(o[i],n,i),this.$store[i].components.push(this);this.__$updatePath_=n}if(r){var s={};for(var a in r)c(r[a],s,a),this.$store[a].updateSelfComponents.push(this);this.__$updateSelfPath_=s}}else o&&(this.__$updatePath_=c(o),this.$store.components.push(this)),r&&(this.__$updateSelfPath_=c(r),this.$store.updateSelfComponents.push(this))}function o(){if(this.$store)if(k)for(var t in this.$store)"replaceState"!==t&&(S(this,this.$store[t].components),S(this,this.$store[t].updateSelfComponents));else S(this,this.$store.updateSelfComponents),S(this,this.$store.components)}t.mixin({beforeCreate:e,computed:{$state:function(){if(k){var t={};return Object.keys(this.$store).forEach(function(e){t[e]=x[e].data}),t}return this.$store.data}},destroyed:o})}var P="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",j=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];t.add=function(t,e){o(t,e,t.__o_.__p_,t.__o_.__r_)},t.set=function(t,e,r){o(t,e,t.__o_.__p_,t.__o_.__r_),t[e]=r},Array.prototype.size=function(t){this.length=t};var w,x,k=!1,N={$:b,render:E,reset:O,install:C};"undefined"!=typeof module?module.exports=N:self.Omiv=N}();
//# sourceMappingURL=omiv.min.js.map