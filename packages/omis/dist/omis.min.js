!function(t){"use strict";function e(t,e,o){var i=[];s(t)&&(0===t.length&&(t.__o_={__r_:t,__p_:"#"}),r(t,t));for(var _ in t)t.hasOwnProperty(_)&&(o?s(e)&&f(e,_)?(i.push(_),n(t,_,null,t)):u(e)&&_===e&&(i.push(_),n(t,_,null,t)):(i.push(_),n(t,_,null,t)));t.__c_||(t.__c_=[]),t.__c_.push({all:!o,propChanged:o||e,eventPropArr:i})}function r(t,e){A.forEach(function(r){t[r]=function(){var t=Array.prototype.slice.call(this,0),_=Array.prototype[r].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+r+"\\b").test(j)){for(var s in this)this.hasOwnProperty(s)&&!i(this[s])&&n(this,s,this.__o_.__p_,e);o("Array-"+r,this,t,this,this.__o_.__p_,e)}return _},t["pure"+r.substring(0,1).toUpperCase()+r.substring(1)]=function(){return Array.prototype[r].apply(this,Array.prototype.slice.call(arguments))}})}function n(t,e,_,u){if("__o_"!==e&&!i(t[e])){t.__o_||(t.__o_={__r_:u}),t.__o_.__p_=void 0!==_&&null!==_?_:"#";var f=t.__o_[e]=t[e];if(Object.defineProperty(t,e,{get:function(){return this.__o_[e]},set:function(r){var n=this.__o_[e];this.__o_[e]=r,o(e,r,n,this,t.__o_.__p_,u)},configurable:!0,enumerable:!0}),"object"==typeof f){s(f)&&(r(f,u),0===f.length&&(f.__o_||(f.__o_={}),f.__o_.__p_=void 0!==_&&null!==_?_+"-"+e:"#-"+e));for(var a in f)f.hasOwnProperty(a)&&n(f,a,t.__o_.__p_+"-"+e,u)}}}function o(t,e,r,o,i,s){if(e!==r&&(!_(e)||!_(r))&&s.__c_)for(var u=a(t,i),p=0,c=s.__c_.length;p<c;p++){var l=s.__c_[p];(l.all||f(l.eventPropArr,u)||0===u.indexOf("Array-"))&&l.propChanged.call(o,t,e,r,i)}0!==t.indexOf("Array-")&&"object"==typeof e&&n(o,t,o.__o_.__p_,s)}function i(t){return"[object Function]"===Object.prototype.toString.call(t)}function _(t){return"number"==typeof t&&isNaN(t)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t){return"string"==typeof t}function f(t,e){for(var r=t.length;--r>-1;)if(e===t[r])return!0;return!1}function a(t,e){return"#"===e?t:e.split("-")[1]}function p(t,e,r){var n={};return t.forEach(function(t){if("string"==typeof t)n[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?n[e]=!0:"string"==typeof e[0]?n[e[0]]=!0:e[0].forEach(function(t){return n[t]=!0})}}),e&&(e[r]=n),n}function c(t,e){for(var r in t){if(e[r])return!0;for(var n in e)if(l(r,n))return!0}return!1}function l(t,e){if(0===t.indexOf(e)){var r=t.substr(e.length,1);if("["===r||"."===r)return!0}return!1}function h(t){var e="";return t.replace("#-","").split("-").forEach(function(t,r){r?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(e){var r,n;if(e.store)if(b.store=e.store,b.store.data)m(b.store);else{w=!0;for(var o in b.store)b.store[o].data&&m(b.store[o],o)}return n=r=function(t){function r(n){y(this,r);var o=d(this,t.call(this,n));if(o.state={__$id_:0},w){if(e.use){var i={};for(var _ in e.use)p(e.use[_],i,_),b.store[_].components.push(o);o.__$updatePath_=i}if(e.useSelf){var s={};for(var u in e.useSelf)p(e.useSelf[u],s,u),b.store[u].updateSelfComponents.push(o);o.__$updateSelfPath_=s}}else e.use&&(b.store.components.push(o),o.__$updatePath_=p(e.use)),e.useSelf&&(b.store.updateSelfComponents.push(o),o.__$updateSelfPath_=p(e.useSelf));return o}return v(r,t),r.prototype.shouldComponentUpdate=function(){return E===this||!C},r.prototype.componentWillUnmount=function(){g(this,b.store.components),g(this,b.store.updateSelfComponents)},r.prototype.render=function(){return e.render.apply(this,arguments)},r}(t.Component),r.css=e.css,n}function g(t,e){for(var r=0,n=e.length;r<n;r++)if(e[r]===t){e.splice(r,1);break}}function m(t,r){t.components=[],t.updateSelfComponents=[],e(t.data,function(e,n,o,i){var _={};_[h(i+"-"+e)]=!0,t.components.forEach(function(t){var e=t.__$updatePath_;r?e&&e[r]&&c(_,e[r])&&(S(t),C=!1):e&&c(_,e)&&(S(t),C=!1)}),t.updateSelfComponents.forEach(function(t){var e=t.__$updateSelfPath_;r?e&&e[r]&&c(_,e[r])&&(S(t),C=!0,E=t):e&&c(_,e)&&(S(t),C=!0,E=t)})})}function S(t){t.setState({__$id_:t.state.__$id_++})}function O(t,e,r,n){P(n),t(e,"string"==typeof r?document.querySelector(r):r)}function P(t){if(t)if(b.store=t,b.store.data)w=!1,m(b.store);else{w=!0;for(var e in b.store)b.store[e].data&&m(b.store[e],e)}}var j="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",A=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];e.add=function(t,e){n(t,e,t.__o_.__p_,t.__o_.__r_)},e.set=function(t,e,r){n(t,e,t.__o_.__p_,t.__o_.__r_),t[e]=r},Array.prototype.size=function(t){this.length=t};var C=!1,E=null,w=!1,$={$:b,render:O,reset:P};"undefined"!=typeof module?module.exports=$:self.Omis=$}(React);
//# sourceMappingURL=omis.min.js.map